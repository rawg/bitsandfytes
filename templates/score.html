{% include "header.html" %}

    <div class="container">
		  <div class="row">
			  <div class="col-md-offset-2 col-md-8">
				  <h1>Score Me!</h1>
					{% with messages = get_flashed_messages(with_categories=true) %}
					{% if messages %}
						<div id="messages">
						{% for category, message in messages %}
							{% if category == "error" %}
								<p class="bg-warning">
							{% elif category == "success" %}
								<p class="bg-success">
							{% endif %}
							{{ message }}</p>
						{% endfor %}
						</div>
					{% endif %}
					{% endwith %}
			  </div>
		  </div>

	  <div class="row">
		  <div class="col-md-offset-2 col-md-8">
			  <form method="post" action="/score" enctype="multipart/form-data" class="dropzone">
				  <div class="form-group">
					  <label for="file">Results</label>
					  <input type="file" class="form-control dropzone" name="file" />
					  <p class="help-block">Your best results yet as a two
					  column CSV of categories and articles. Header row
					  optional, but can only contain the column headings
					  "category" and "article".</p>
				  </div>
				  <div class="form-group">
					  <label for="username">Username</label>
					  <input type="text" class="form-control" name="username"
						  value="{{ username }}" placeholder="{{ username_anon }}" />
					  <p class="help-block">Take credit. Or don't.</p>
					  <input type="hidden" name="username_anon" value="{{ username_anon }}" />
				  </div>
				  <div class="form-group">
					  <label for="source">Source Data</label>
					  <select name="source" class="form-control">
						  {% for file in files %}
						  <option value="{{ file[0] }}">{{ file[1] }}: {{ file[3] }}</option>
						  {% endfor %}
					  </select>
				  </div>
				  <button type="submit" class="btn btn-default">Submit</button>
			  </form>
		  </div>
      </div>
  </div>

 {% include "footer.html" %}
